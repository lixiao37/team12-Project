<html>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		// ----------general function declarations-----------
		/**
		 * gets data from a page, then displays the data to a 
		 * area(the div id) located in the web page
		 */
		function display_data(page, area) {
			$.get(page, {list_type:area}, 
				function(data) {
					e = document.getElementById(area);
					e.innerHTML = data;
				}
			);
		}

		/**
		 * sends the string in the textbox to a page which
		 * will then modify the data depending on mod_type
		 */
		function modify_data(page, textbox_name, mod_type) {
			// modifies the user's source/target list
			$.post(page, {value:$(textbox_name)[0].value, 
				list_type:textbox_name, mod_type:mod_type}, 
				function(status_message){
					// alerts the status
					alert(status_message);
				}
			);
			// displays the updated list from the database to the page
			if (textbox_name == "#news_source") {
				display_data('/get_list', 'news_source_list');}
			else if (textbox_name == "#news_target") {
				display_data('/get_list', 'news_target_list');}
			else if (textbox_name == "#twitter_source") {
				display_data('/get_list', 'twitter_source_list');}
			else if (textbox_name == "#twitter_target") {
				display_data('/get_list', 'twitter_target_list');}
		}
		// --------general function declarations end----------


		// ---------button click function declarations--------
		$("#add_news_source").click(function(){
			modify_data("/modify_data", "#news_source", "add");
		});

		$("#delete_news_source").click(function(){
			modify_data("/modify_data", "#news_source", "delete");
		});

		$("#add_news_target").click(function(){
			modify_data("/modify_data", "#news_target", "add");
		});

		$("#delete_news_target").click(function(){
			modify_data("/modify_data", "#news_target", "delete");
		});

		$("#add_twitter_source").click(function(){
			modify_data("/modify_data", "#twitter_source", "add");
		});

		$("#delete_twitter_source").click(function(){
			modify_data("/modify_data", "#twitter_source", "delete");
		});

		$("#add_twitter_target").click(function(){
			modify_data("/modify_data", "#twitter_target", "add");
		});

		$("#delete_twitter_target").click(function(){
			modify_data("/modify_data", "#twitter_target", "delete");
		});

		// ------button click function declarations end--------


		// when page starts up, display the sources and targets lists
		display_data('/get_list', 'news_source_list')
		display_data('/get_list', 'news_target_list')
		display_data('/get_list', 'twitter_source_list')
		display_data('/get_list', 'twitter_target_list')

	});
</script>
<body bgcolor="pink">
	<center>
	<h1 style="color:#0033CC">News Section</h1>
		Add the website sources below. <br/>
		<input type="text" id="news_source"/><br/>
		<button id="add_news_source">Add Source</button>
		<button id="delete_news_source">Delete Source</button>
		<br/>
		<ul style="list-style-type:decimal;text-align:left;margin-left:44%;">
		<div id="news_source_list"></div>
		</ul>
		<br/>
		Add the website targets below. <br/>
		<input type="text" id="news_target"/><br/>
		<button id="add_news_target">Add Target</button>
		<button id="delete_news_target">Delete Target</button>
		<br/>
		<ul style="list-style-type:decimal;text-align:left;margin-left:44%;">
		<div id="news_target_list"></div>
		</ul>
		<br/>
	<h1 style="color:#0033CC">Twitter Section</h1>
		Add the twitter sources below. <br/>
		<input type="text" id="twitter_source"/><br/>
		<button id="add_twitter_source">Add Source</button>
		<button id="delete_twitter_source">Delete Source</button>
		<br/>
		<ul style="list-style-type:decimal;text-align:left;margin-left:44%;">
		<div id="twitter_source_list"></div>
		</ul>
		<br/>
		Add the twitter targets below. <br/>
		<input type="text" id="twitter_target"/><br/>
		<button id="add_twitter_target">Add Target</button>
		<button id="delete_twitter_target">Delete Target</button>
		<br/>
		<ul style="list-style-type:decimal;text-align:left;margin-left:44%;">
		<div id="twitter_target_list"></div>
		</ul>
		<br/>
	<input type="button" value="Back" onClick="location='/'"/>
	</center>
</body>
</html>